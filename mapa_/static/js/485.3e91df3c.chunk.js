"use strict";(self.webpackChunk_genially_view_client=self.webpackChunk_genially_view_client||[]).push([[485],{45577:(e,t,n)=>{n.d(t,{q:()=>u});var o=n(45992),i=n(17588),r=n(66264),l=n(60708),a=n(70698),d=n(5441);const u=e=>{let{getItems:t,item:n,menuType:u,theme:s,shouldCloseWhenClickOutside:m=!1,menuTheme:c,styles:h,slideSize:g,getItemLayout:v}=e;const[f,p]=(0,i.useState)(t()),[C,y]=(0,i.useState)(!1),T=(0,i.useCallback)((()=>{y((e=>!e))}),[]);(0,i.useEffect)((()=>{const e=null===n||void 0===n?void 0:n.on(r.q.Message,(e=>{e===l.m.Entering&&(p(t()),y(!1))}));return()=>{null===e||void 0===e||e()}}),[t,n]);const x=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,i.useRef)(null);return(0,i.useEffect)((()=>{const o=t=>{n.current&&!n.current.contains(t.target)&&e(t)};return document.addEventListener("mouseup",o,t),document.addEventListener("touchend",o,t),()=>{document.removeEventListener("mouseup",o,t),document.removeEventListener("touchend",o,t)}}),[n,e,t]),n}((0,i.useCallback)((()=>{m&&C&&y(!1)}),[C,m]),!0);(0,i.useEffect)((()=>{p(t())}),[t]);const b=(0,a.CO)(u);return(0,d.T)({theme:s,children:(0,o.jsx)(b,{items:f,onToggleClick:T,opened:C,ref:x,theme:s,menuTheme:c,styles:h,slideSize:g,getItemLayout:v})})}},15690:(e,t,n)=>{n.d(t,{M:()=>p});var o=n(45992),i=n(17588),r=n(15536),l=n(89035),a=n(21646);const d=()=>{},u=(0,i.forwardRef)(((e,t)=>{let{styles:n}=e;const i=d;return(0,o.jsx)(a.W1,{ref:t,style:{margin:r.I,width:`calc(100% - ${2*r.I}px)`,height:`calc(100% - ${2*r.I}px)`},$backgroundColor:n.backgroundColor,$hamburgerIconColor:n.hamburgerIconColor,children:(0,o.jsxs)(a.YT,{"data-nav-element":"hamburger-menu-toggle",$width:l.sf,children:[(0,o.jsx)(a.e3,{}),(0,o.jsx)(a.cl,{onClick:i,role:"button",children:(0,o.jsx)(a.h_,{children:(0,o.jsx)(a.RG,{$color:n.hamburgerIconColor})})})]})})}));var s=n(58424),m=n(73242);const c=Math.random().toString(36).substring(7),h=()=>{},g=(0,i.forwardRef)(((e,t)=>{let{items:n,menuTheme:i,styles:l}=e;const a=`mainMenu-${c}`,d=h,{ref:u,hasScroll:g}=(0,s.x)();return(0,o.jsxs)(m.W1,{"aria-labelledby":a,role:"menu",ref:t,$menuTheme:i,style:{margin:r.I,width:`calc(100% - ${2*r.I}px)`,height:`calc(100% - ${2*r.I}px)`},$backgroundColor:l.backgroundColor,children:[g.horizontal&&(0,o.jsx)(m.hh,{onClick:d,$menuTheme:i,$disabled:!0,children:(0,o.jsx)(m.rZ,{})}),(0,o.jsx)(m.JU,{id:a,children:"Main menu"}),(0,o.jsx)(m.e3,{}),(0,o.jsx)(m.QS,{ref:u,children:n.map((e=>(0,o.jsx)(m.d,{$isLink:e.isLink,$isActive:e.isActive,$isAllowed:e.isAllowed,$backgroundColor:e.backgroundColor,$textColor:e.textColor,children:(0,o.jsx)(m.Dr,{tabIndex:-1,"aria-label":e.altText||void 0,"aria-disabled":!e.altText,children:(0,o.jsx)(m.gi,{children:e.text})})},e.text+e.key)))}),g.horizontal&&(0,o.jsx)(m.hh,{onClick:d,$menuTheme:i,children:(0,o.jsx)(m.wF,{})})]})}));var v=n(54769);var f=n(5441);const p=e=>{let{getItems:t,menuType:n,theme:i,styles:r,menuTheme:l}=e;const a=t(),d=(e=>{switch(e){case v.L.Horizontal:return g;case v.L.Hamburger:return u;default:return g}})(n);return(0,f.T)({theme:i,children:(0,o.jsx)(d,{items:a,menuTheme:l,styles:r})})}},38352:(e,t,n)=>{var o;n.d(t,{N:()=>s,e:()=>c}),function(e){e.None="none",e.Unique="unique"}(o||(o={}));const i=new Map,r=new Map;function l(e){const t=function(e){return"string"===typeof e?r.get(e):i.get(e)}(e);if(!t)throw new Error(`error getting metadata for unknown interactivity action type - ${e}`);return t}var a=n(48237);const d=(e,t,n)=>""===e?t(n?"__new.editor.widget.menu.sidebar.emptyTitlePlaceholder":"__new.view.widget.menu.sidebar.emptyTitlePlaceholder"):e,u=(e,t)=>{var n,o,i,r;const a=e.menuItemAction.action;if(!a)return!1;const d=l(a.type),u=null===(n=d.getSlideIdsFromSnapshot)||void 0===n?void 0:n.call(d,a),s=null===(o=t.getCurrentSlide())||void 0===o?void 0:o.id;if(u&&u.length>0)return s===u[0];const m=t.getSlides(),c=m.findIndex((e=>e.id===s));return"smartLink"in a.target&&"firstPage"===(null===(i=a.target)||void 0===i?void 0:i.smartLink)?0===c:"smartLink"in a.target&&"lastPage"===(null===(r=a.target)||void 0===r?void 0:r.smartLink)&&c===m.length-1},s=(e,t,n,o)=>e.map(((e,i)=>{var r;const l=(null===(r=e.menuItemAction.action)||void 0===r?void 0:r.type)===a.L.GoToSlide;return{text:d(e.menuItemName,n,o),key:i,onClick:()=>{},isLink:l,isActive:u(e,t),isAllowed:l,altText:e.altText,backgroundColor:e.backgroundColor,textColor:e.textColor}})),m={active:!1,allowed:!1},c=(e,t,n)=>e.map(((e,o)=>{var i,r;const l=!!(null===(i=e.menuItemAction)||void 0===i?void 0:i.data)&&(null===(u=e.menuItemAction.data)||void 0===u?void 0:u.type)===a.L.GoToSlide;var u;const{active:s,allowed:c}=l&&(null===(r=e.menuItemAction)||void 0===r?void 0:r.data)?t.getGoToSlideState(e.menuItemAction.data):m;return{text:d(e.menuItemName,t.t,n),key:o,onClick:()=>{var t;return null===(t=e.menuItemAction)||void 0===t?void 0:t.run()},isLink:l,isActive:s,isAllowed:c,altText:e.altText,backgroundColor:e.backgroundColor,textColor:e.textColor}}))},90485:(e,t,n)=>{n.r(t),n.d(t,{geniallyMenuViewScript:()=>u});var o=n(45992),i=n(41381),r=n(42511),l=n(45577),a=n(15690),d=n(38352);const u=(e,t)=>{const n=()=>{var t,n,o,i,r,l,a,d;return{width:null!==(n=null===(t=e.item)||void 0===t?void 0:t.width)&&void 0!==n?n:0,height:null!==(i=null===(o=e.item)||void 0===o?void 0:o.height)&&void 0!==i?i:0,left:null!==(l=null===(r=e.item)||void 0===r?void 0:r.x)&&void 0!==l?l:0,top:null!==(d=null===(a=e.item)||void 0===a?void 0:a.y)&&void 0!==d?d:0}};(0,i.p)({getTargetNodeItem:()=>e.item,initialState:void 0,renderApp:()=>{var i;const{config:a,item:u}=e,{menuItems:s,menuType:m,menuTheme:c,backgroundColor:h,hamburgerIconColor:g}=a,v=null!==(i=null===u||void 0===u?void 0:u.parentSlide.size)&&void 0!==i?i:{width:0,height:0},f=()=>(0,d.e)(s,t,!1);return()=>(0,o.jsx)(r.W,{isInEditor:!1,children:(0,o.jsx)(l.q,{getItems:f,item:u,menuType:m,theme:t.theme,shouldCloseWhenClickOutside:!0,menuTheme:c,styles:{backgroundColor:h,hamburgerIconColor:g},getItemLayout:n,slideSize:v})})},renderThumbnailApp:()=>{const{config:n}=e,{menuType:i,menuTheme:r,backgroundColor:l,hamburgerIconColor:u}=n;return(0,o.jsx)(a.M,{getItems:()=>(0,d.e)(e.config.menuItems,t,!1),menuType:i,menuTheme:r,theme:t.theme,styles:{backgroundColor:l,hamburgerIconColor:u}})}})(e,t)}},41381:(e,t,n)=>{n.d(t,{p:()=>l});var o=n(70377),i=n(66264),r=n(60708);function l(e){let{getTargetNodeItem:t,renderApp:n,renderThumbnailApp:l,initialState:a}=e,d=!1;const u=[],s=e=>{u.push(e)};return e=>{const m=t(e.config),c=null===m||void 0===m?void 0:m.parentSlide;function h(){if(!m)return;let e=null;if("idOfFreeNode"in m)e=document.getElementById(m.idOfFreeNode);else{const t=document.createElement("div");t.innerHTML=m.source;let n=t.getElementsByClassName("genially-widget-app");n.length||(n=t.getElementsByClassName("genially-widget-gallery"));const{id:o}=n[0];if(!o)return;e=document.getElementById(o)}if(e){const t=i=>{if(d){const r=n({setState:t,onUnmount:s});o.render(r(i),e)}else console.warn('"rerender" was called when the widget was already unmounted. This is a no-op. Did you forget to dispose of an event handler with "onUnmount"?')};d=!0,t(a),u.push((()=>{o.unmountComponentAtNode(e)}))}}function g(){d=!1,u.forEach((e=>{e()})),u.length=0}null===m||void 0===m||m.on(i.q.Mount,(()=>{h()})),null===m||void 0===m||m.on(i.q.Unmount,(()=>{g()})),m&&"isTransversal"in m&&m.isTransversal?h():null===c||void 0===c||c.on(r.m.Entering,(()=>{d||h()})),null===c||void 0===c||c.on(r.m.Exited,(()=>{m&&"isTransversal"in m&&m.isTransversal||d&&g()})),null===c||void 0===c||c.on(r.m.ThumbnailMount,(()=>{!function(){if(!l||!m||!("idOfThumbnailFreeNode"in m))return;const e=document.getElementsByClassName(m.idOfThumbnailFreeNode);Array.from(e).forEach((e=>{o.unmountComponentAtNode(e)}))}(),function(){if(!l||!m||!("idOfThumbnailFreeNode"in m))return;const e=document.getElementsByClassName(m.idOfThumbnailFreeNode);Array.from(e).forEach((e=>{o.render(l(),e)}))}()}))}}}}]);
//# sourceMappingURL=https://s3-static-genially.genially.com/view/static/js/485.3e91df3c.chunk.js.map